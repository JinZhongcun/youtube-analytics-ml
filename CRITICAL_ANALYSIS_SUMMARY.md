# YouTube分析プロジェクト - 批判的分析まとめ

## 🚨 重大な発見：時系列リーケージ

### 1. データの本質的問題
- **元データ**: 6,078件（subscribers情報なし）
- **新データ**: 6,062件（subscribers情報あり）
- **共通データ**: 4,482件のみ
- **失われたデータ**: 1,596件が消失

### 2. 最も重要な問題：subscribersの時系列リーケージ

#### 問題の詳細
- subscribersは「**データ収集時点**」の値（動画公開時ではない）
- viewsが変化: 4,410/4,482件（98.4%）が更新されている
- つまり、これは**異なる時点で収集されたデータ**

#### なぜこれが問題か
```
本来の因果関係：
動画公開時のsubscribers → views（予測したい）

実際のデータ：
views（既に確定）→ 人気でsubscribers増加 → 現在のsubscribers
```

**結果：未来の情報（結果）を使って過去（原因）を予測している**

### 3. R² = 0.99の真相

#### 初期の異常な結果
- subscriber_per_view使用時：R² = 0.995（明らかに異常）
- 原因：viewsから計算された特徴量を使用（完全なリーケージ）

#### 修正後の結果
- subscribersを使用：R² = 0.54
- subscribersを除外：R² = 0.408

### 4. Geminiの見解
- **明確な時系列リーケージ**と確認
- 推奨：subscribersを完全に除外するか、動画公開時の値を使用

### 5. データリーケージのある特徴量リスト

#### 確実にリーケージ
- **subscriber_per_view**: views / subscribersで計算
- **likes**: 視聴後に発生
- **comment_count**: 視聴後に発生

#### 時系列リーケージ（疑い）
- **subscribers**: 現在の値（動画公開時ではない）
- **log_subscribers**: subscribersの対数変換

#### 安全な特徴量
- video_duration（動画の長さ）
- tags_count（タグ数）
- description_length（説明文の長さ）
- brightness, colorfulness（サムネイル特徴）
- published_at（投稿日時）

### 6. 現在の正しいモデル性能
- **R² = 0.408**（完全にクリーンなデータ）
- 使用特徴量：サムネイル画像特徴 + 基本メタデータのみ
- subscribersなしでも実用的な予測が可能

## 📊 プロジェクトの経緯

### Phase 1: 初期分析（767件）
- R² = 0.21（低い性能）
- 画像データなし

### Phase 2: データ拡張（6,078件 + サムネイル）
- Meng Siyuanさんがデータ提供
- 問題：90%にsubscribers情報なし
- マージ結果：607件のみ完全データ

### Phase 3: 画像分析導入
- OpenCVで画像特徴抽出（CNNは使わず）
- R² = 0.44（607件での最良結果）

### Phase 4: subscribersデータ復活
- 6,062件にsubscribers追加
- R² = 0.995（異常値）→ リーケージ発見

### Phase 5: 批判的査読（現在）
- 時系列リーケージを発見
- 正しいR² = 0.408と判明

## 🎯 結論と推奨事項

### 結論
1. subscribersは使うべきではない（時系列リーケージ）
2. 現在のR² = 0.408が正しい性能
3. サムネイル画像特徴が最も重要

### 推奨事項
1. subscribersを完全に除外した分析を継続
2. 動画公開時のsubscribers取得を検討
3. 画像分析の深化（CNN導入など）

## 🔍 未解決の疑問
1. time_durationの正確な意味（経過日数？）
2. 元データと新データの収集時期の差
3. なぜ1,596件のデータが失われたか